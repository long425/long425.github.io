<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>消息</title>
		<!--设置兼容IE-->
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<!--设置手机页面缩放比例-->
		<meta name="viewport" content="initial-scale=1, maximum-scale=1">
		<!--导入技术包-->
		<link rel="stylesheet" href="SUI/sm.min.css">
		<!--<link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css">-->
		<style type="text/css">
			#btn-title {
				width: 40%;
				margin: 0 auto;
			}
			
			#msg-page,
			#ab-page,
			#dt-page {
				animation: none!important;
			}
			
			/*#info-panel {
				background-color: white;
			}*/
			
			#self-head {
				width: 3rem;
				height: 3rem;
				border-radius: 50%;
				float: left;
			}
			
			#self-name {
				float: left;
			}
			
			.item-content {
				/*background-color: lightskyblue;*/
				color: gray;
			}
			
			.item-inner:after {
				content: none!important;
			}
			
			ul:before,
			ul:after {
				content: none!important;
			}
			
			#bottom-menu {
				font: 0.6rem;
			}
			
			#aside-menu {
				height: 8.5rem;
				overflow-y: scroll;
			}
		</style>

	</head>

	<body>
		<div class="page-group">
			<!--消息页面-->
			<div class="page page-current" id="msg-page">
				<!--导航栏-->
				<header class="bar bar-nav">
					<a class="icon icon-me pull-left open-panel" data-panel="#info-panel"></a>
					<button class="button pull-right"><b>+</b></button>
					<div class="buttons-row" id="btn-title">
						<a href="#tab1" class="tab-link active button">消息</a>
						<a href="#tab2" class="tab-link button">电话</a>
					</div>
				</header>
				<!--搜索栏-->
				<div class="bar bar-header-secondary">
					<div class="searchbar">
						<a class="searchbar-cancel">取消</a>
						<div class="search-input">
							<label class="icon icon-search" for="search"></label>
							<input type="search" id='search' placeholder='输入关键字...' />
						</div>
					</div>
				</div>
				<!--工具栏-->
				<nav class="bar bar-tab">
					<a class="tab-item active">
						<span class="icon icon-message"></span>
						<span class="tab-label">消息</span>
						<span class="badge">99</span>
					</a>
					<a class="tab-item" href="#ab-page">
						<span class="icon icon-friends"></span>
						<span class="tab-label">联系人</span>
					</a>
					<a class="tab-item" href="#dt-page">
						<span class="icon icon-star"></span>
						<span class="tab-label">动态</span>
					</a>
				</nav>

				<!--内容区-->
				<div class="content close-panel">
					<div class="content-block">
						消息页面
				</div>
			</div>
			<!--联系人页面-->
			<div class="page" id="ab-page">
				<!--导航栏-->
				<header class="bar bar-nav">
					<a class="icon icon-me pull-left"></a>
					<button class="button pull-right"><b>添加</b></button>
					<h1 class="title">联系人</h1>
				</header>
				<!--工具栏-->
				<nav class="bar bar-tab">
					<a class="tab-item" href="#msg-page">
						<span class="icon icon-message"></span>
						<span class="tab-label">消息</span>
					</a>
					<a class="tab-item active">
						<span class="icon icon-friends"></span>
						<span class="tab-label">联系人</span>
					</a>
					<a class="tab-item" href="#dt-page">
						<span class="icon icon-star"></span>
						<span class="tab-label">动态</span>
					</a>
				</nav>
				<!--内容区-->
				<div class="content">
					<div class="content-block">
						这里是联系人页面
					</div>
				</div>
			</div>
			<!--动态页面-->
			<div class="page" id="dt-page">
				<!--导航栏-->
				<header class="bar bar-nav">
					<a class="icon icon-me pull-left"></a>
					<button class="button pull-right">更多</button>
					<h1 class="title">动态</h1>
				</header>
				<!--工具栏-->
				<nav class="bar bar-tab">
					<a class="tab-item" href="#msg-page">
						<span class="icon icon-message"></span>
						<span class="tab-label">消息</span>
					</a>
					<a class="tab-item" href="#ab-page">
						<span class="icon icon-friends"></span>
						<span class="tab-label">联系人</span>
					</a>
					<a class="tab-item active">
						<span class="icon icon-star"></span>
						<span class="tab-label">动态</span>
					</a>
				</nav>
				<!--内容区-->
				<div class="content">
					<div class="content-block">
						这里是动态页面
					</div>
				</div>
			</div>
		</div>
		<!--侧边栏-->
		<div class="panel panel-left panel-reveal" id="info-panel">
			<div class="content-block">
				<div id="self-info">
					<img id="self-head" src="index.png" alt="" />
					<span id="self-name">我的昵称</span>
					<br />
					<div id="self-level"></div>
					<div style="clear: both;"></div>
					<p>个人签名</p>
				</div>

				<!--菜单列表-->
				<div class="list-block" id="aside-menu">
					<ul>
						<li class="item-content">
							<div class="item-media"><i class="icon icon-gift"></i></div>
							<div class="item-inner">
								<div class="item-title">了解会员特权</div>
							</div>
						</li>
						<li class="item-content">
							<div class="item-media"><i class="icon icon-code"></i></div>
							<div class="item-inner">
								<div class="item-title">QQ钱包</div>
							</div>
						</li>
						<li class="item-content">
							<div class="item-media"><i class="icon icon-app"></i></div>
							<div class="item-inner">
								<div class="item-title">个性装扮</div>
							</div>
						</li>
						<li class="item-content">
							<div class="item-media"><i class="icon icon-star"></i></div>
							<div class="item-inner">
								<div class="item-title">我的收藏</div>
							</div>
						</li>
						<li class="item-content">
							<div class="item-media"><i class="icon icon-picture"></i></div>
							<div class="item-inner">
								<div class="item-title">我的相册</div>
							</div>
						</li>
						<li class="item-content">
							<div class="item-media"><i class="icon icon-card"></i></div>
							<div class="item-inner">
								<div class="item-title">我的文件</div>
							</div>
						</li>
					</ul>
				</div>
				<div class="row" id="bottom-menu">
					<div class="col-33">
						<a class="button-link" href=""><i class="icon icon-settings">设置</i></a>
					</div>
					<div class="col-33">
						<a id="night-shift-btn" class="button-link" href=""><i class="icon icon-star">夜间</i></a>
					</div>
					<div class="col-33">
						<a class="button-link" href="">郑州<sup>18℃</sup></a>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script src="SUI/zepto.min.js"></script>
	<script src="SUI/sm.min.js"></script>
	<!--<script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'></script>
    <script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'></script>-->
	<script type="text/javascript">
		//打开自动初始化页面的功能
		//建议不要打开自动初始化，而是自己调用 $.init 方法完成初始化
		//URL中第一个#后面的数字是url的哈希值。hash值不会随请求发送到服务器，仅仅是指导浏览器当页面加载完成时显示页面的哪个部分。
		//window.location.hash可以访问当前页面的hash值。
		//window.onhashchange事件可以监听hash的变化。

		//		$(document).on('pageInit',"msg-page",function(e,pageID,$page){
		//			switch(pageID){
		//				case "msg-page":
		//					document.title = '消息';
		//					break;
		//				case "ab-page":
		//					document.title = '联系人';
		//					break;
		//				case "dt-page":
		//					document.title = '动态';
		//					break;
		//				default:
		//					break;
		//			}
		//		});
		$(document).on("pageInit", "#msg-page", function(e, pageID, $page) {
			document.title = "消息";
		});
		$(document).on("pageInit", "#ab-page", function(e, pageID, $page) {
			document.title = "联系人";
		});
		$(document).on("pageInit", "#dt-page", function(e, pageID, $page) {
			document.title = "动态";
		});

		/////侧边栏
		var myLevel = 50;

		function refreshLevel(level) {
			var levArray = [];
			while(level / 4 >= 1) {
				var remainder = level % 4;
				levArray.unshift(remainder);
				level = Math.floor(level / 4);
			}
			levArray.unshift(level);
			//渲染等级图标；
			for(var i = 0; i < levArray.length; i++) {
				var picName;
				switch(levArray.length - i) {
					case 3:
						picName = 'sun.png';
						break;
					case 2:
						picName = 'moon.png';
						break;
					case 1:
						picName = 'star.png';
						break;
					default:
						break;
				}
				for(var j = 0; j < levArray[i]; j++) {
					$("<img />")
						.attr("src", "img/" + picName)
						.css("width", "0.8rem")
						.css("height", "0.8rem")
						.appendTo($("#self-level"));
				}
			}
		}
		refreshLevel(52);
		////侧边栏

		//
		$("#night-shift-btn").click(function() {
			$(document.body).toggleClass("theme-dark");
			$("#info-panel").toggleClass("theme-dark");
		});
		
		


		//初始化SUI
		$.init();

		//3太阳2月亮1星星
		3 * Math.pow(4, 2) + 2 * 4 + 1 * 1
	</script>

</html>